<html>
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebRTC Streaming example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <script src="https://webrtc-signaling-server-demo.herokuapp.com/webrtc_streaming.js"></script>
  </head>
  <body>
    <h3>https://github.com/cartovarc/webrtc_streaming</h3>
    <input type="text" id="secret_key" value="YOUR_SECRET_KEY">
    <button id="start" onclick="start()">Start</button>
    <button id="stop" onclick="stop()">Stop</button>
    <br>
    <br>
    <div id="media">
      <audio id="audio" autoplay="true"></audio>
      <video width="720" height="480" controls id="video" autoplay="true" playsinline="true"></video>
    </div>

  </body>
  <script>
      const webrtc_streaming = new WebRTCStreaming();

      function start() {
          let video_element = document.getElementById("video");
          let audio_element = document.getElementById("audio");
          let url_signaling_server = "https://webrtc-signaling-server-demo.herokuapp.com";
          let secret_key = document.getElementById("secret_key").value;
          webrtc_streaming.initialize(url_signaling_server, secret_key, true, video_element, audio_element);
          webrtc_streaming.start();
      }

      function stop() {
          webrtc_streaming.stop();
      }
  </script>
</html>
